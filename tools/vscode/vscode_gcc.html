<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="stylesheet" type="text/css" href="../../css/style.css" />
    <link rel="stylesheet" href="../../css/font-awesome-4.7.0/css/font-awesome.min.css" />

    <script src="../../js/libs/jquery.min.js"></script>
    <link rel="stylesheet" href="../../js/libs/highlight/styles/devibeans.min.css" />
    <script src="../../js/libs/highlight/highlight.min.js"></script>
    <title>C project with gcc</title>
  </head>

  <body>
    <nav class="nav_main">
      <a href="../../index.html"><i class="fa fa-home"></i></a>
      <a href="vscode_index.html">VS Code</a>
    </nav>

    <div class="content">
      <details>
        <summary>Setup of gcc compiler</summary>
        <section id="gcc1"></section>
      </details>

      <details>
        <summary>C project using gcc</summary>
        <section id="gcc2">
          <ol>
            <li>Create a folder called <span class="keyword">HelloWorld</span></li>
            <li>
              Add <span class="keyword">main.c</span>.
              <pre><code class="language-c">
#include &#x3C;stdio.h&#x3E;
#include &#x22;mymath.c&#x22;

int main()
{
    int a = 197;
    int b = 40;
    int c = addition(a, b);
    printf(&#x22;Sum of %d and %d is %d.&#x22;, a, b, c);
    return 0;
}</code></pre>
            </li>
            <li>
              Add <span class="keyword">mymath.c</span>.
              <pre><code class="language-c">
int addition(int x, int y)
{
    return x + y;
}</code></pre>
            </li>
            <li>
              Click <b>Terminal </b><i class="fa fa-arrow-circle-o-right"></i><b> Run build task</b>. Select <b>C/C++:gcc.exe build active file</b>

              <img src="../../images/tools/vscode/gcc1.jpg" />
            </li>
            <li>This will create <b>.vscode</b>folder. It will add <b>tasks.json</b></li>
            <li>
              Change the content of <b>tasks.json</b>as follows

              <pre><code class="language-json">
    {
        &#x22;version&#x22;: &#x22;2.0.0&#x22;,
        &#x22;tasks&#x22;: [
            {
                &#x22;type&#x22;: &#x22;cppbuild&#x22;,
                &#x22;label&#x22;: &#x22;C/C++: gcc.exe build active file&#x22;,
                &#x22;command&#x22;: &#x22;F:\\Programs\\chocolatey\\lib\\mingw\\tools\\install\\mingw64\\bin\\gcc.exe&#x22;,
                &#x22;args&#x22;: [&#x22;-fdiagnostics-color=always&#x22;, &#x22;-g&#x22;, &#x22;${file}&#x22;, &#x22;-o&#x22;, &#x22;${fileDirname}\\${fileBasenameNoExtension}.exe&#x22;],
                &#x22;options&#x22;: {
                    &#x22;cwd&#x22;: &#x22;${fileDirname}&#x22;
                },
                &#x22;problemMatcher&#x22;: [&#x22;$gcc&#x22;],
                &#x22;group&#x22;: {
                    &#x22;kind&#x22;: &#x22;build&#x22;,
                    &#x22;isDefault&#x22;: true
                },
                &#x22;detail&#x22;: &#x22;compiler: F:\\Programs\\chocolatey\\lib\\mingw\\tools\\install\\mingw64\\bin\\gcc.exe&#x22;
            },
            {
                &#x22;type&#x22;: &#x22;shell&#x22;,
                &#x22;label&#x22;: &#x22;Run Project&#x22;,
                &#x22;command&#x22;: &#x22;F:\\Programs\\chocolatey\\lib\\mingw\\tools\\install\\mingw64\\bin\\gcc.exe -fdiagnostics-color=always -g -Wall \&#x22;${file}\&#x22; -o \&#x22;${fileDirname}\\${fileBasenameNoExtension}.exe\&#x22; &#x26;&#x26; \&#x22;${fileDirname}\\${fileBasenameNoExtension}.exe\&#x22;&#x22;,
                &#x22;options&#x22;: {
                    &#x22;cwd&#x22;: &#x22;${fileDirname}&#x22;
                },
                &#x22;problemMatcher&#x22;: [&#x22;$gcc&#x22;],
                &#x22;detail&#x22;: &#x22;compiler: F:\\Programs\\chocolatey\\lib\\mingw\\tools\\install\\mingw64\\bin\\gcc.exe&#x22;
            }
        ]
    }</code></pre>
              <p>Here we have added custom task <b>Run Project</b> which will first build the project and run the generated exe file.</p>
            </li>
            <li>
              To run the custom task, click <b>Terminal </b> <i class="fa fa-arrow-circle-right"></i> <b>Run task</b>. Select <b>Run Project</b> from dropdown.
            </li>
          </ol>
        </section>
      </details>
    </div>
  </body>

  <script>
    hljs.highlightAll();
  </script>
</html>
