<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="stylesheet" type="text/css" href="../../css/style.css" />
    <link rel="stylesheet" href="../../css/font-awesome/css/all.min.css" />
    <link rel="stylesheet" type="text/css" href="../../css/vanilla-tabs.min.css" />
    <link rel="shortcut icon" type="image/svg" href="../../css/svg/c/c.svg" />
    <link rel="stylesheet" href="../../js/libs/highlight/styles/devibeans.min.css" />
    <script src="../../js/libs/jquery.min.js"></script>
    <script src="../../js/libs/highlight/highlight.min.js"></script>
    <script src="../../js/libs/vanilla-tabs.min.js"></script>
    <title>C Algorithms</title>
  </head>
  <body>
    <nav class="nav_main">
      <a href="../../index.html"><i class="fa fa-home"></i></a>
      <a href="c_index.html">C</a>
    </nav>
    <div class="content">
      <section id="alg1">
        <h4>Arithmatic Expression Evaluation - Shunting Yard algorithm</h4>
        <pre><code class="language-c">#include &#x3C;stdio.h&#x3E;
#include &#x3C;stdlib.h&#x3E;
#include &#x3C;ctype.h&#x3E;
#include &#x3C;string.h&#x3E;

#define MAX 100

// Stack for numbers
typedef struct
{
    double data[MAX];
    int top;
} NumStack;

void push_num(NumStack *s, double val)
{
    s-&#x3E;data[++(s-&#x3E;top)] = val;
}

double pop_num(NumStack *s)
{
    return s-&#x3E;data[(s-&#x3E;top)--];
}

// Stack for operators
typedef struct
{
    char data[MAX];
    int top;
} OpStack;

void push_op(OpStack *s, char op)
{
    s-&#x3E;data[++(s-&#x3E;top)] = op;
}

char pop_op(OpStack *s)
{
    return s-&#x3E;data[(s-&#x3E;top)--];
}

char peek_op(OpStack *s)
{
    return s-&#x3E;data[s-&#x3E;top];
}

int precedence(char op)
{
    if (op == &#x27;+&#x27; || op == &#x27;-&#x27;)
        return 1;
    if (op == &#x27;*&#x27; || op == &#x27;/&#x27;)
        return 2;
    return 0;
}

int is_operator(char c)
{
    return c == &#x27;+&#x27; || c == &#x27;-&#x27; || c == &#x27;*&#x27; || c == &#x27;/&#x27;;
}

// Convert infix to postfix using shunting-yard algorithm
void infix_to_postfix(const char *expr, char output[][MAX], int *out_size)
{
    OpStack ops = {.top = -1};
    int k = 0;

    for (int i = 0; expr[i]; i++)
    {
        if (isspace(expr[i]))
            continue;

        if (isdigit(expr[i]))
        {
            int j = 0;
            while (isdigit(expr[i]) || expr[i] == &#x27;.&#x27;)
            {
                output[k][j++] = expr[i++];
            }
            output[k][j] = &#x27;\0&#x27;;
            k++;
            i--;
        }
        else if (expr[i] == &#x27;(&#x27;)
        {
            push_op(&#x26;ops, expr[i]);
        }
        else if (expr[i] == &#x27;)&#x27;)
        {
            while (ops.top != -1 &#x26;&#x26; peek_op(&#x26;ops) != &#x27;(&#x27;)
            {
                output[k][0] = pop_op(&#x26;ops);
                output[k][1] = &#x27;\0&#x27;;
                k++;
            }
            pop_op(&#x26;ops); // remove &#x27;(&#x27;
        }
        else if (is_operator(expr[i]))
        {
            while (ops.top != -1 &#x26;&#x26; precedence(peek_op(&#x26;ops)) &#x3E;= precedence(expr[i]))
            {
                output[k][0] = pop_op(&#x26;ops);
                output[k][1] = &#x27;\0&#x27;;
                k++;
            }
            push_op(&#x26;ops, expr[i]);
        }
    }

    while (ops.top != -1)
    {
        output[k][0] = pop_op(&#x26;ops);
        output[k][1] = &#x27;\0&#x27;;
        k++;
    }

    *out_size = k;
}

// Evaluate postfix expression
double eval_postfix(char tokens[][MAX], int size)
{
    NumStack nums = {.top = -1};

    for (int i = 0; i &#x3C; size; i++)
    {
        if (is_operator(tokens[i][0]) &#x26;&#x26; strlen(tokens[i]) == 1)
        {
            double b = pop_num(&#x26;nums);
            double a = pop_num(&#x26;nums);
            switch (tokens[i][0])
            {
            case &#x27;+&#x27;:
                push_num(&#x26;nums, a + b);
                break;
            case &#x27;-&#x27;:
                push_num(&#x26;nums, a - b);
                break;
            case &#x27;*&#x27;:
                push_num(&#x26;nums, a * b);
                break;
            case &#x27;/&#x27;:
                push_num(&#x26;nums, a / b);
                break;
            }
        }
        else
        {
            push_num(&#x26;nums, atof(tokens[i]));
        }
    }
    return pop_num(&#x26;nums);
}

int main()
{
    char expr[MAX];
    char postfix[MAX][MAX];
    int size;

    printf(&#x22;Enter an expression: &#x22;);
    fgets(expr, sizeof(expr), stdin);
    expr[strcspn(expr, &#x22;\n&#x22;)] = &#x27;\0&#x27;; // remove newline

    infix_to_postfix(expr, postfix, &#x26;size);

    double result = eval_postfix(postfix, size);
    printf(&#x22;Result: %.2f\n&#x22;, result);

    return 0;
}</code></pre>
        <pre class="shell">
Enter an expression: 5*(3+2)
Result: 25.00</pre
        >
      </section>

      <section id="alg2">
        <h4></h4>
        <pre><code class="language-c"></code></pre>
      </section>

      <section id="alg3">
        <h4></h4>
        <pre><code class="language-c"></code></pre>
      </section>

      <section id="alg4">
        <h4></h4>
        <pre><code class="language-c"></code></pre>
      </section>
    </div>
  </body>
  <script>
    hljs.highlightAll();

    const createTabs = () => {
      let arr = [];

      arr.forEach((tab) => {
        new VanillaTabs({
          selector: tab,
          type: "horizontal",
          responsiveBreak: 840,
          activeIndex: 0,
        });
      });
    };

    document.addEventListener("DOMContentLoaded", () => {
      createTabs();
    });
  </script>
</html>
